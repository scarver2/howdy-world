# nginx/conf.d/odin.conf

# Redirect /odin -> /odin/ (canonical trailing slash)
location = /odin {
  return 301 /odin/;
}

# Proxy everything under /odin/ to the Odin server.
# NOTE: the trailing slash on proxy_pass is IMPORTANT â€” it strips the /odin/ prefix
# so the Odin app can route on "/" (root).
location ^~ /odin/ {
  proxy_http_version 1.1;

  proxy_set_header Host              $host;
  proxy_set_header X-Real-IP         $remote_addr;
  proxy_set_header X-Forwarded-For   $proxy_add_x_forwarded_for;
  proxy_set_header X-Forwarded-Proto $scheme;

  proxy_pass http://odin:6969/;
}
