#!/usr/bin/env bash
# bin/up
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
cd "$ROOT_DIR"

COMPOSE_FILE="${COMPOSE_FILE:-compose.yml}"

# Default behavior: up -d
# You can override/extend by passing args, e.g.:
#   bin/up --build
#   bin/up --build --remove-orphans
#   bin/up -d --build
if [[ $# -eq 0 ]]; then
  docker compose -f "$COMPOSE_FILE" up -d
else
  docker compose -f "$COMPOSE_FILE" up "$@"
fi
