#!/usr/bin/env bash
# bin/down
set -euo pipefail

ROOT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")/.." && pwd)"
cd "$ROOT_DIR"

COMPOSE_FILE="${COMPOSE_FILE:-compose.yml}"

# Default behavior: down --remove-orphans
# You can override/extend by passing args, e.g.:
#   bin/down --volumes
#   bin/down --remove-orphans --volumes
if [[ $# -eq 0 ]]; then
  docker compose -f "$COMPOSE_FILE" down --remove-orphans
else
  docker compose -f "$COMPOSE_FILE" down "$@"
fi
